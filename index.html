<!DOCTYPE html>
<html>
<head>
  <title>Restaurant Menu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Define CSS for the menu container */
    .menu-container {
      display: flex;
      flex-wrap: wrap; /* Wrap columns on smaller screens */
      justify-content: center; /* Center items horizontally */
      max-width: 900px; /* Set a maximum width */
      margin: 0 auto; /* Center the container horizontally */
      padding: 20px; /* Add some padding */
    }

    .menu-item {
      flex-basis: calc(50% - 20px); /* Set the width of each column */
      margin: 10px; /* Add spacing around items */
      padding: 10px; /* Add inner padding */
      background-color: rgba(255, 204, 153, 0.6); /* Peach background with 60% transparency */
      border-radius: 10px; /* Rounded edges */
      text-align: left; /* Align text to the left */
    }

    /* Style the quantity box and buttons */
    .quantity-box {
      display: flex;
      align-items: center;
    }

    .unit-price-quantity {
      display: flex; /* Create a flex container for unit price and quantity */
      align-items: center; /* Vertically align unit price and quantity */
    }

    .unit-price {
      margin-right: auto; /* Push the unit price to the left */
    }

    /* Style the order list */
    #order-list ul {
      list-style-type: none; /* Remove list bullets */
      padding: 0;
    }

    /* Style the item price */
    .item-price {
      flex-grow: 1; /* Allow item price to grow and fill available space */
      text-align: right; /* Align item price to the right */
    }

    /* Style the order summary container */
    .order-summary {
      text-align: right; /* Align the contents to the right */
      margin-top: 20px;
    }

    /* Style the total price display */
    #total-price {
      font-weight: bold; /* Make the total price bold */
      margin-top: 10px; /* Add some space at the top */
    }

    /* Align the "Remark for your order:" label to the left */
    #order-remarks label {
      text-align: left;
      display: block; /* Ensure it takes full width */
    }
  </style>
</head>
<body>
  <h1 style="text-align: center;">Restaurant Menu</h1>

  <!-- Menu items -->
  <div class="menu-container">
    <div class="menu-item">
      <h2>Item 1</h2>
      <div class="unit-price-quantity">
        <span class="unit-price">RM 10</span>
        <div class="quantity-box">
          <button class="minus">-</button>
          <span class="quantity">0</span>
          <button class="plus">+</button>
        </div>
      </div>
    </div>

    <div class="menu-item">
      <h2>Long Item Name 2</h2>
      <div class="unit-price-quantity">
        <span class="unit-price">RM 8</span>
        <div class="quantity-box">
          <button class="minus">-</button>
          <span class="quantity">0</span>
          <button class="plus">+</button>
        </div>
      </div>
    </div>

    <div class="menu-item">
      <h2>Item 3</h2>
      <div class="unit-price-quantity">
        <span class="unit-price">RM 12</span>
        <div class="quantity-box">
          <button class="minus">-</button>
          <span class="quantity">0</span>
          <button class="plus">+</button>
        </div>
      </div>
    </div>

    <div class="menu-item">
      <h2>Very Long Item Name 4</h2>
      <div class="unit-price-quantity">
        <span class="unit-price">RM 9</span>
        <div class="quantity-box">
          <button class="minus">-</button>
          <span class="quantity">0</span>
          <button class="plus">+</button>
        </div>
      </div>
    </div>
    <!-- Add more menu items here -->
  </div>

  <!-- Center box for displaying item list with quantities and total price -->
  <div class="menu-container">
    <div class="menu-item">
      <h2>Your Order</h2>
      <!-- List of items with unit price on the right in a receipt-style format -->
      <div id="order-list">
        <div class="receipt">
          <ul></ul>
        </div>
      </div>

      <!-- Container for total price and order remarks -->
      <div class="order-summary">
        <div id="total-price">Total Price: RM 0.00</div>
        <!-- Updated order remarks input with initial text -->
        <div id="order-remarks">
          <label for="order-remarks-input">Remark for your order:</label>
          <textarea id="order-remarks-input" rows="2" placeholder="(e.g., No peanuts in the salad...)"></textarea>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript for quantity control -->
  <script>
    // JavaScript for quantity control
    document.addEventListener('DOMContentLoaded', function () {
      // Get all quantity boxes and buttons
      const quantityBoxes = document.querySelectorAll('.quantity-box');
      const plusButtons = document.querySelectorAll('.plus');
      const minusButtons = document.querySelectorAll('.minus');
      const selectedItems = [];

      // Attach event listeners to plus and minus buttons
      plusButtons.forEach((button, index) => {
        button.addEventListener('click', () => {
          const quantityElement = quantityBoxes[index].querySelector('.quantity');
          let quantity = parseInt(quantityElement.textContent);
          quantity += 1;
          quantityElement.textContent = quantity;

          // Add the item index to the selectedItems array
          if (quantity === 1) {
            selectedItems.push(index);
          }
          updateOrderList();
        });
      });

      minusButtons.forEach((button, index) => {
        button.addEventListener('click', () => {
          const quantityElement = quantityBoxes[index].querySelector('.quantity');
          let quantity = parseInt(quantityElement.textContent);
          if (quantity > 0) {
            quantity -= 1;
            quantityElement.textContent = quantity;

            // Remove the item index from the selectedItems array
            if (quantity === 0) {
              const itemIndex = selectedItems.indexOf(index);
              if (itemIndex !== -1) {
                selectedItems.splice(itemIndex, 1);
              }
            }
            updateOrderList();
          }
        });
      });

      // Function to update the order list and calculate total price
      function updateOrderList() {
        const orderList = document.querySelector('#order-list ul');
        const receiptList = document.querySelector('.receipt ul');
        receiptList.innerHTML = '';

        let totalPrice = 0; // Initialize total price

        selectedItems.forEach((index) => {
          const item = document.querySelectorAll('.menu-item')[index];
          const itemName = item.querySelector('h2').textContent;
          const itemPrice = parseFloat(item.querySelector('.unit-price').textContent.replace('RM ', ''));

          // Get the quantity for the current item
          const quantity = parseInt(quantityBoxes[index].querySelector('.quantity').textContent);

          // Calculate the item total
          const itemTotal = itemPrice * quantity;

          totalPrice += itemTotal; // Add item total to the total price

          const listItem = document.createElement('li');
          listItem.className = 'receipt-item';
          listItem.innerHTML = `
            <span class="item-quantity">${quantity}x</span>
            <span class="item-name-space">&nbsp;</span>
            <span class="item-name">${itemName}</span>
            <span class="item-price">RM ${itemTotal.toFixed(2)}</span>
          `;
          receiptList.appendChild(listItem);
        });

        // Update the total price display
        const totalPriceDiv = document.getElementById('total-price');
        totalPriceDiv.textContent = `Total Price: RM ${totalPrice.toFixed(2)}`;
      }
    });
  </script>
</body>
</html>
